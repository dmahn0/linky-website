# ğŸ”„ Linky Platform ì¬ì„¤ê³„ ë¬¸ì„œ 2025

> ì‘ì„±ì¼: 2025-01-23
> 
> í˜„ì¬ ì‹œìŠ¤í…œì˜ ë¬¸ì œì ì„ ë¶„ì„í•˜ê³  ê°œì„ ëœ ì•„í‚¤í…ì²˜ë¥¼ ì œì•ˆí•©ë‹ˆë‹¤.

## ğŸ“Š 1. í˜„ì¬ ì‹œìŠ¤í…œ ë¶„ì„

### 1.1 í˜„ì¬ êµ¬ì¡° ë¬¸ì œì 

#### ğŸ”´ ì•„í‚¤í…ì²˜ ë¬¸ì œ
1. **ëª…í™•í•œ ê³„ì¸µ êµ¬ë¶„ ë¶€ì¬**
   - Frontendì™€ Backend ë¡œì§ì´ í˜¼ì¬
   - API êµ¬ì¡°ê°€ ë¶ˆëª…í™•
   - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì—¬ëŸ¬ ê³³ì— ë¶„ì‚°

2. **í™•ì¥ì„± ì œí•œ**
   - Vanilla JSë¡œë§Œ êµ¬ì„±ë˜ì–´ ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬ ì–´ë ¤ì›€
   - ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì„± ë‚®ìŒ
   - ì‹¤ì‹œê°„ ê¸°ëŠ¥ êµ¬í˜„ ì œì•½

3. **ê°œë°œ ìƒì‚°ì„±**
   - íƒ€ì… ì²´í¬ ì—†ìŒ (TypeScript ë¯¸ì‚¬ìš©)
   - ë¹Œë“œ ì‹œìŠ¤í…œ ë¶€ì¬
   - í…ŒìŠ¤íŠ¸ ìë™í™” ì—†ìŒ

#### ğŸŸ¡ ë°ì´í„°ë² ì´ìŠ¤ ë¬¸ì œ
1. **ìŠ¤í‚¤ë§ˆ ë³µì¡ë„**
   - ì‚¬ìš©ì íƒ€ì…ë³„ ë¶„ë¦¬ëœ í…Œì´ë¸” (business_users, partner_users)
   - ì¤‘ë³µ í•„ë“œ ì¡´ì¬
   - ê´€ê³„ ì„¤ì • ë³µì¡

2. **ì„±ëŠ¥ ìµœì í™” ë¶€ì¡±**
   - ì¸ë±ìŠ¤ ì „ëµ ë¯¸í¡
   - ì¿¼ë¦¬ ìµœì í™” í•„ìš”
   - ìºì‹± ì „ëµ ì—†ìŒ

#### ğŸŸ¢ ë³´ì•ˆ ë° ì¸ì¦
1. **í˜„ì¬ëŠ” ì–‘í˜¸í•˜ë‚˜ ê°œì„  í•„ìš”**
   - Supabase Auth ì‚¬ìš© ì¤‘ (Good)
   - RLS ì •ì±… ì ìš© (Good)
   - 2FA, Rate Limiting ì—†ìŒ (Need improvement)

### 1.2 í˜„ì¬ ê¸°ìˆ  ìŠ¤íƒ
```yaml
Frontend:
  - HTML5, CSS3, Vanilla JavaScript
  - No framework or build tools
  - Manual component management

Backend:
  - Supabase (PostgreSQL, Auth, Storage)
  - No dedicated backend server
  - Direct database access from frontend

Infrastructure:
  - Local development only
  - No CI/CD pipeline
  - Manual deployment
```

## ğŸ¯ 2. ìƒˆë¡œìš´ ì‹œìŠ¤í…œ ì„¤ê³„

### 2.1 ì œì•ˆí•˜ëŠ” ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Linky Platform 2025                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Frontend Layer                         â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚   Next.js   â”‚  â”‚   React     â”‚  â”‚  TypeScript â”‚    â”‚  â”‚
â”‚  â”‚  â”‚     App     â”‚  â”‚ Components  â”‚  â”‚   Support   â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚   Zustand   â”‚  â”‚   TanStack  â”‚  â”‚   Tailwind  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚State Mgmt   â”‚  â”‚    Query    â”‚  â”‚     CSS     â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      API Layer                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  Next.js    â”‚  â”‚    tRPC     â”‚  â”‚    Zod      â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  API Routes â”‚  â”‚  Type-safe  â”‚  â”‚ Validation  â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚   Prisma    â”‚  â”‚   Redis     â”‚  â”‚   BullMQ    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚     ORM     â”‚  â”‚   Cache     â”‚  â”‚  Job Queue  â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Data Layer                            â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ PostgreSQL  â”‚  â”‚  Supabase   â”‚  â”‚     S3      â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Database   â”‚  â”‚    Auth     â”‚  â”‚   Storage   â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚   Prisma    â”‚  â”‚  Realtime   â”‚  â”‚   Vector    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚ Migrations  â”‚  â”‚   Updates   â”‚  â”‚     DB      â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ê¸°ìˆ  ìŠ¤íƒ ì„ ì • ì´ìœ 

#### Frontend
- **Next.js 14**: App Router, Server Components, SEO ìµœì í™”
- **React 18**: ì„±ìˆ™í•œ ìƒíƒœê³„, ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì„±
- **TypeScript**: íƒ€ì… ì•ˆì •ì„±, ê°œë°œ ìƒì‚°ì„±
- **Zustand**: ê°„ë‹¨í•˜ê³  íš¨ìœ¨ì ì¸ ìƒíƒœ ê´€ë¦¬
- **TanStack Query**: ì„œë²„ ìƒíƒœ ê´€ë¦¬, ìºì‹±
- **Tailwind CSS**: ë¹ ë¥¸ ìŠ¤íƒ€ì¼ë§, ì¼ê´€ëœ ë””ìì¸

#### Backend
- **tRPC**: End-to-end íƒ€ì… ì•ˆì •ì„±
- **Prisma**: íƒ€ì… ì•ˆì „ ORM, ë§ˆì´ê·¸ë ˆì´ì…˜
- **Redis**: ìºì‹±, ì„¸ì…˜ ê´€ë¦¬
- **BullMQ**: ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì²˜ë¦¬
- **Zod**: ëŸ°íƒ€ì„ ê²€ì¦

#### Infrastructure
- **Vercel**: Next.js ìµœì í™” ë°°í¬
- **Supabase**: ì¸ì¦, ì‹¤ì‹œê°„, ìŠ¤í† ë¦¬ì§€
- **PostgreSQL**: ê´€ê³„í˜• ë°ì´í„°
- **Cloudflare**: CDN, DDoS ë³´í˜¸

## ğŸ’¾ 3. ê°œì„ ëœ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### 3.1 í†µí•© ì‚¬ìš©ì ëª¨ë¸

```sql
-- í†µí•© ì‚¬ìš©ì í…Œì´ë¸”
CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    auth_uid UUID UNIQUE REFERENCES auth.users(id),
    email TEXT UNIQUE NOT NULL,
    phone TEXT,
    nickname TEXT UNIQUE,
    user_type TEXT CHECK (user_type IN ('business', 'partner', 'admin')),
    status TEXT DEFAULT 'pending',
    metadata JSONB DEFAULT '{}',
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ë¹„ì¦ˆë‹ˆìŠ¤ í”„ë¡œí•„ (í™•ì¥ í…Œì´ë¸”)
CREATE TABLE business_profiles (
    user_id UUID PRIMARY KEY REFERENCES users(id),
    business_name TEXT NOT NULL,
    business_number TEXT NOT NULL,
    business_type TEXT,
    address TEXT,
    representative_name TEXT,
    bank_info JSONB,
    statistics JSONB DEFAULT '{}',
    settings JSONB DEFAULT '{}'
);

-- íŒŒíŠ¸ë„ˆ í”„ë¡œí•„ (í™•ì¥ í…Œì´ë¸”)
CREATE TABLE partner_profiles (
    user_id UUID PRIMARY KEY REFERENCES users(id),
    name TEXT NOT NULL,
    work_areas TEXT[],
    transportation TEXT,
    available_times JSONB,
    bank_info JSONB,
    rating DECIMAL(2,1) DEFAULT 0.0,
    statistics JSONB DEFAULT '{}',
    certifications JSONB DEFAULT '[]'
);
```

### 3.2 ê°œì„ ëœ ì‘ì—… ì‹œìŠ¤í…œ

```sql
-- ì‘ì—… í…Œì´ë¸” (ê°„ì†Œí™”)
CREATE TABLE jobs (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    business_id UUID REFERENCES users(id),
    partner_id UUID REFERENCES users(id),
    space_id UUID REFERENCES spaces(id),
    
    -- ì‘ì—… ì •ë³´
    title TEXT NOT NULL,
    description TEXT,
    requirements JSONB DEFAULT '[]',
    
    -- ì¼ì •
    schedule JSONB NOT NULL, -- {date, time, duration, recurring}
    
    -- ìƒíƒœ ë° ê°€ê²©
    status TEXT DEFAULT 'draft',
    pricing JSONB NOT NULL, -- {base, adjustments, final, currency}
    
    -- ë©”íƒ€ë°ì´í„°
    metadata JSONB DEFAULT '{}',
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ì‘ì—… ì´ë²¤íŠ¸ (Event Sourcing)
CREATE TABLE job_events (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    job_id UUID REFERENCES jobs(id),
    event_type TEXT NOT NULL,
    payload JSONB NOT NULL,
    actor_id UUID REFERENCES users(id),
    created_at TIMESTAMPTZ DEFAULT NOW()
);

-- ì¸ë±ìŠ¤ ì „ëµ
CREATE INDEX idx_jobs_business_status ON jobs(business_id, status);
CREATE INDEX idx_jobs_partner_status ON jobs(partner_id, status);
CREATE INDEX idx_jobs_schedule ON jobs USING GIN (schedule);
CREATE INDEX idx_job_events_job_id ON job_events(job_id, created_at DESC);
```

## ğŸ”Œ 4. API ì„¤ê³„ (tRPC)

### 4.1 Type-Safe API êµ¬ì¡°

```typescript
// server/routers/auth.ts
export const authRouter = router({
  signUp: publicProcedure
    .input(z.object({
      email: z.string().email(),
      password: z.string().min(8),
      userType: z.enum(['business', 'partner']),
      profile: z.object({...})
    }))
    .mutation(async ({ input, ctx }) => {
      // Type-safe implementation
    }),
    
  signIn: publicProcedure
    .input(z.object({
      email: z.string().email(),
      password: z.string()
    }))
    .mutation(async ({ input, ctx }) => {
      // Implementation
    }),
});

// server/routers/jobs.ts
export const jobsRouter = router({
  create: protectedProcedure
    .input(JobCreateSchema)
    .mutation(async ({ input, ctx }) => {
      // Business only
    }),
    
  list: protectedProcedure
    .input(z.object({
      status: z.enum(['pending', 'active', 'completed']).optional(),
      page: z.number().default(1),
      limit: z.number().default(20)
    }))
    .query(async ({ input, ctx }) => {
      // Filtered by user type
    }),
    
  apply: protectedProcedure
    .input(z.object({
      jobId: z.string().uuid(),
      message: z.string().optional()
    }))
    .mutation(async ({ input, ctx }) => {
      // Partner only
    }),
});
```

### 4.2 ì‹¤ì‹œê°„ ê¸°ëŠ¥

```typescript
// Realtime subscriptions
export const realtimeRouter = router({
  onJobUpdate: protectedProcedure
    .input(z.object({ jobId: z.string().uuid() }))
    .subscription(({ input, ctx }) => {
      return observable<JobUpdate>((emit) => {
        // Supabase Realtime subscription
      });
    }),
    
  onNewMessage: protectedProcedure
    .subscription(({ ctx }) => {
      return observable<Message>((emit) => {
        // Chat messages
      });
    }),
});
```

## ğŸ¨ 5. UI/UX ì¬ì„¤ê³„

### 5.1 ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ

```typescript
// Design System Components
components/
â”œâ”€â”€ primitives/          # ê¸°ë³¸ ìš”ì†Œ
â”‚   â”œâ”€â”€ Button/
â”‚   â”œâ”€â”€ Input/
â”‚   â”œâ”€â”€ Card/
â”‚   â””â”€â”€ Modal/
â”œâ”€â”€ composite/          # ì¡°í•© ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ JobCard/
â”‚   â”œâ”€â”€ UserProfile/
â”‚   â”œâ”€â”€ SpaceSelector/
â”‚   â””â”€â”€ PricingCalculator/
â”œâ”€â”€ templates/          # í˜ì´ì§€ í…œí”Œë¦¿
â”‚   â”œâ”€â”€ DashboardLayout/
â”‚   â”œâ”€â”€ AuthLayout/
â”‚   â””â”€â”€ PublicLayout/
â””â”€â”€ features/           # ê¸°ëŠ¥ë³„ ì»´í¬ë„ŒíŠ¸
    â”œâ”€â”€ jobs/
    â”œâ”€â”€ spaces/
    â”œâ”€â”€ payments/
    â””â”€â”€ chat/
```

### 5.2 ìƒíƒœ ê´€ë¦¬ ì „ëµ

```typescript
// stores/authStore.ts
interface AuthStore {
  user: User | null;
  isLoading: boolean;
  signIn: (credentials: Credentials) => Promise<void>;
  signOut: () => Promise<void>;
  checkSession: () => Promise<void>;
}

// stores/jobStore.ts
interface JobStore {
  jobs: Job[];
  filters: JobFilters;
  pagination: Pagination;
  fetchJobs: () => Promise<void>;
  createJob: (data: JobInput) => Promise<void>;
  updateJob: (id: string, data: Partial<Job>) => Promise<void>;
}
```

## ğŸ” 6. ë³´ì•ˆ ê°•í™”

### 6.1 ì¸ì¦ & ê¶Œí•œ

```typescript
// middleware/auth.ts
export const authMiddleware = t.middleware(async ({ ctx, next }) => {
  const session = await getServerSession(ctx.req);
  
  if (!session) {
    throw new TRPCError({ code: 'UNAUTHORIZED' });
  }
  
  return next({
    ctx: {
      ...ctx,
      session,
      user: session.user,
    },
  });
});

// middleware/rateLimit.ts
export const rateLimitMiddleware = t.middleware(async ({ ctx, next, path }) => {
  const identifier = ctx.session?.user?.id || ctx.req.ip;
  const rateLimiter = new RateLimiter({
    points: 100,
    duration: 60,
  });
  
  await rateLimiter.consume(identifier);
  return next();
});
```

### 6.2 ë°ì´í„° ê²€ì¦

```typescript
// validation/schemas.ts
export const JobCreateSchema = z.object({
  title: z.string().min(3).max(200),
  description: z.string().max(1000).optional(),
  spaceId: z.string().uuid(),
  schedule: z.object({
    date: z.string().datetime(),
    duration: z.number().min(30).max(480),
  }),
  pricing: z.object({
    amount: z.number().positive(),
    currency: z.enum(['KRW', 'USD']),
  }),
});
```

## ğŸš€ 7. êµ¬í˜„ ë¡œë“œë§µ

### Phase 1: Foundation (Week 1-2)
- [x] í”„ë¡œì íŠ¸ ì„¤ì • (Next.js, TypeScript, Tailwind)
- [ ] Prisma ìŠ¤í‚¤ë§ˆ ì •ì˜ ë° ë§ˆì´ê·¸ë ˆì´ì…˜
- [ ] ê¸°ë³¸ ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„
- [ ] tRPC ì„¤ì • ë° ê¸°ë³¸ ë¼ìš°í„°

### Phase 2: Core Features (Week 3-4)
- [ ] ì‚¬ìš©ì ê´€ë¦¬ ì‹œìŠ¤í…œ
- [ ] ê³µê°„ ê´€ë¦¬ CRUD
- [ ] ì‘ì—… ìƒì„± ë° ë§¤ì¹­ ì‹œìŠ¤í…œ
- [ ] ëŒ€ì‹œë³´ë“œ êµ¬í˜„

### Phase 3: Advanced Features (Week 5-6)
- [ ] ì‹¤ì‹œê°„ ì•Œë¦¼
- [ ] ì±„íŒ… ì‹œìŠ¤í…œ
- [ ] ê²°ì œ í†µí•©
- [ ] ë¦¬í¬íŠ¸ ë° ë¶„ì„

### Phase 4: Optimization (Week 7-8)
- [ ] ì„±ëŠ¥ ìµœì í™”
- [ ] í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
- [ ] CI/CD íŒŒì´í”„ë¼ì¸
- [ ] ëª¨ë‹ˆí„°ë§ ì„¤ì •

## ğŸ“Š 8. ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ

### 8.1 ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜

```sql
-- 1. ìƒˆ ìŠ¤í‚¤ë§ˆ ìƒì„±
CREATE SCHEMA linky_v2;

-- 2. ë°ì´í„° ë³€í™˜ ë° ë³µì‚¬
INSERT INTO linky_v2.users (auth_uid, email, phone, user_type, ...)
SELECT auth_uid, email, phone, 'business', ...
FROM public.business_users;

-- 3. ê´€ê³„ ì¬ì„¤ì •
UPDATE linky_v2.jobs 
SET business_id = (SELECT id FROM linky_v2.users WHERE ...)

-- 4. ê²€ì¦
SELECT COUNT(*) FROM public.business_users
UNION ALL
SELECT COUNT(*) FROM linky_v2.users WHERE user_type = 'business';

-- 5. ìŠ¤ìœ„ì¹˜ì˜¤ë²„
ALTER SCHEMA public RENAME TO linky_v1;
ALTER SCHEMA linky_v2 RENAME TO public;
```

### 8.2 ë¬´ì¤‘ë‹¨ ì „í™˜

1. **ë³‘ë ¬ ìš´ì˜ ê¸°ê°„**
   - ì‹ ê·œ ì‹œìŠ¤í…œ ê°œë°œ ì™„ë£Œ
   - ê¸°ì¡´ ì‹œìŠ¤í…œê³¼ ë™ì‹œ ìš´ì˜
   - ë°ì´í„° ë™ê¸°í™”

2. **ì ì§„ì  ì „í™˜**
   - Feature Flagë¡œ ì‚¬ìš©ìë³„ ì „í™˜
   - A/B í…ŒìŠ¤íŠ¸
   - í”¼ë“œë°± ìˆ˜ì§‘

3. **ì™„ì „ ì „í™˜**
   - ëª¨ë“  ì‚¬ìš©ì ë§ˆì´ê·¸ë ˆì´ì…˜
   - ê¸°ì¡´ ì‹œìŠ¤í…œ ì¢…ë£Œ
   - ë°ì´í„° ì•„ì¹´ì´ë¹™

## ğŸ’¡ 9. í•µì‹¬ ê°œì„  ì‚¬í•­

### ê¸°ìˆ ì  ê°œì„ 
- âœ… **Type Safety**: End-to-end íƒ€ì… ì•ˆì •ì„±
- âœ… **Performance**: ìºì‹±, ìµœì í™”, CDN
- âœ… **Developer Experience**: í˜„ëŒ€ì  ë„êµ¬, ìë™í™”
- âœ… **Scalability**: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì¤€ë¹„

### ë¹„ì¦ˆë‹ˆìŠ¤ ê°œì„ 
- âœ… **User Experience**: ë¹ ë¥¸ ì‘ë‹µ, ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
- âœ… **Reliability**: ì—ëŸ¬ ì²˜ë¦¬, ë³µêµ¬ ì „ëµ
- âœ… **Analytics**: ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •
- âœ… **Flexibility**: ì‰¬ìš´ ê¸°ëŠ¥ ì¶”ê°€/ë³€ê²½

## ğŸ“ˆ 10. ì„±ëŠ¥ ëª©í‘œ

### ëª©í‘œ ì§€í‘œ
```yaml
Performance:
  - First Contentful Paint: < 1.0s
  - Time to Interactive: < 2.5s
  - API Response Time: < 200ms (p95)
  - Database Query Time: < 50ms (p95)

Reliability:
  - Uptime: 99.9%
  - Error Rate: < 0.1%
  - Success Rate: > 99%

Scale:
  - Concurrent Users: 10,000+
  - Requests/sec: 1,000+
  - Data Volume: 1TB+
```

## ğŸ¯ 11. ê²°ë¡ 

### ì£¼ìš” ë³€ê²½ ì‚¬í•­
1. **ëª¨ë˜ ìŠ¤íƒ ë„ì…**: Next.js, TypeScript, tRPC
2. **ì•„í‚¤í…ì²˜ ê°œì„ **: ëª…í™•í•œ ê³„ì¸µ ë¶„ë¦¬
3. **ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”**: í†µí•© ì‚¬ìš©ì ëª¨ë¸
4. **ê°œë°œ ìƒì‚°ì„±**: íƒ€ì… ì•ˆì •ì„±, ìë™í™”
5. **í™•ì¥ì„± í™•ë³´**: ìºì‹±, í, ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì¤€ë¹„

### ê¸°ëŒ€ íš¨ê³¼
- ê°œë°œ ì†ë„ 2x í–¥ìƒ
- ë²„ê·¸ ë°œìƒë¥  70% ê°ì†Œ
- ì„±ëŠ¥ 3x ê°œì„ 
- ìœ ì§€ë³´ìˆ˜ ë¹„ìš© 50% ì ˆê°

### ë‹¤ìŒ ë‹¨ê³„
1. íŒ€ ë¦¬ë·° ë° í”¼ë“œë°±
2. POC ê°œë°œ
3. ë‹¨ê³„ë³„ êµ¬í˜„
4. ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰

---

> ğŸ“Œ ì´ ë¬¸ì„œëŠ” ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ë©°, êµ¬í˜„ ê³¼ì •ì—ì„œ ì„¸ë¶€ì‚¬í•­ì´ ì¡°ì •ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.